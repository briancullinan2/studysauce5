@page "/terms"
@using StudySauce.Shared.Controls
@using StudySauce.Shared.Services
@inject IMenuService MenuService

<div class="panel-pane" id="terms">
    <div class="pane-content">
        <h2><i class="bi bi-file-earmark-text me-2"></i> Terms and Conditions</h2>
        <p><strong>Effective Date: February 20, 2026</strong></p>

        <p>Agreement between user and <a href="/">www.studysauce.com</a></p>

        <p>
            Welcome to <a href="/">www.studysauce.com</a>. The website (the "Site") is comprised of various web
            pages operated by The Study Institute. Access is offered to you conditioned on your acceptance without
            modification of the terms, conditions, and notices contained herein (the "Terms"). Your use of the Site constitutes
            your agreement to all such Terms. Please read these terms carefully. <strong>Study Sauce is an E-commerce Site providing custom study plans and educational resources.</strong>
        </p>

        <AccordionSection Title="Privacy">
        <p>
            Your use of the Site is subject to The Study Institute's Privacy Policy. Please review our policy, which also governs the Site and informs users of our data
            collection practices, including compliance with <strong>A.R.S. ยง 18-552</strong> and modern data privacy standards.
        </p>
        </AccordionSection>

        <AccordionSection Title="Electronic Communications">
        <p>
            Visiting the Site or sending emails to The Study Institute constitutes electronic communications. You consent to receive electronic communications and you agree that
            all agreements, notices, disclosures and other communications that we provide to you electronically satisfy any legal requirement that such communications be in writing.
        </p>
        </AccordionSection>

        <AccordionSection Title="Your Account">
        <p>
            You are responsible for maintaining the confidentiality of your account and password. You agree to accept responsibility for all activities that
            occur under your account. The Study Institute is not responsible for third party access to your account resulting from theft or misappropriation.
        </p>
        <p>
            We do not knowingly collect personal information from persons under the age of thirteen. If you are under 18, you may use the Site only with permission of a parent or guardian.
        </p>
        </AccordionSection>

        <AccordionSection Title="AI and Automated Use Restrictions (2026 Update)">
        <p>
            Users are strictly prohibited from using any automated systems, "robots," or "spiders" to access the Site for the purposes of scraping data.
            <strong>Training of Artificial Intelligence (AI):</strong> You are expressly forbidden from using the Content of this Site, including User-generated study plans,
            to train machine learning models or Large Language Models (LLMs) without a specific written license from The Study Institute.
        </p>
        </AccordionSection>

        <AccordionSection Title="Cancellation/Refund Policy">
        <p>
            If you are not completely satisfied with your study plan, we will help adjust the plan until you are happy.
            We offer a full refund if the product does not meet your educational needs, provided the request is made within 30 days.
        </p>
        </AccordionSection>

        <AccordionSection Title="Links to Third Party Sites">
        <p>
            The Site may contain links to other websites ("Linked Sites"). The Linked Sites are not under the control of The Study Institute and we are not
            responsible for the contents of any Linked Site. The inclusion of any link does not imply endorsement by The Study Institute.
        </p>
         </AccordionSection>

        <AccordionSection Title="No Unlawful or Prohibited Use/Intellectual Property">
        <p>
            You are granted a non-exclusive, non-transferable, revocable license to access the Site. As a condition of use, you warrant that you will not use the Site
            for any purpose that is unlawful or prohibited by these Terms.
        </p>
        <p>
            All content, including text, graphics, logos, and images, is the property of The Study Institute. You will not modify, publish, transmit, reverse engineer,
            or participate in the transfer or sale of any content, in whole or in part, found on the Site.
        </p>
        </AccordionSection>

        <AccordionSection Title="International Users">
        <p>
            The Service is controlled and operated from our offices within the USA. If you access the Service from a location outside the USA, you are responsible
            for compliance with all local laws.
        </p>
        </AccordionSection>

        <AccordionSection Title="Indemnification">
        <p>
            You agree to indemnify, defend and hold harmless The Study Institute and its officers for any losses or expenses (including reasonable attorneys' fees)
            relating to your use of the Site, your violation of these terms, or your violation of any applicable laws, rules, or regulations.
        </p>
        </AccordionSection>

        <AccordionSection Title="Liability Disclaimer">
        <p>
            THE INFORMATION, SOFTWARE, PRODUCTS, AND SERVICES ON THE SITE ARE PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND. TO THE MAXIMUM EXTENT PERMITTED BY
            APPLICABLE LAW, THE STUDY INSTITUTE DISCLAIMS ALL WARRANTIES, INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
        </p>
        </AccordionSection>

        <AccordionSection Title="Termination/Access Restriction">
        <p>
            The Study Institute reserves the right, in its sole discretion, to terminate your access to the Site at any time, without notice. To the maximum extent permitted by law,
            this agreement is governed by the laws of the <strong>State of Arizona</strong>.
        </p>
        </AccordionSection>

        <AccordionSection Title="Dispute Resolution (Mandatory Arbitration)">
        <p>
            In accordance with <strong>A.R.S. ยง 12-1501</strong>, any controversy or claim arising out of or relating to these Terms shall be settled by
            binding arbitration in <strong>Maricopa County, Arizona</strong>. You hereby waive your right to participate in class-action lawsuits.
        </p>
        </AccordionSection>

        <AccordionSection Title="Changes to Terms">
        <p>
            The Study Institute reserves the right to change the Terms at any time. The most current version of the Terms will supersede all previous versions.
        </p>
        </AccordionSection>

        <h3>Contact Us</h3>
        <p>
            The Study Institute<br />
            19621 N 96th Pl<br />
            Scottsdale, Arizona 85255<br />
            Email: <a href="mailto:support@studysauce.com">support@studysauce.com</a><br />
            Phone: (480) 331-8570
        </p>

        <div class="highlighted-link">
            <a href="/" class="more">Return Home</a>
        </div>
    </div>
</div>

@code {

    public Dictionary<object, bool> _collapsed = new();
    public ElementReference self;
    // TODO: bool StartCollapsed based on CSS style

    protected override void OnInitialized()
    {
        // Define the contextual menu for THIS page
        MenuService.SetMenu(@<StudySauce.Shared.Pages.Shared.Terms />);
    }

    private void Toggle(object? header)
    {
        bool collapsed;
        if(header == null)
        {
            return;
        }
        if (_collapsed.TryGetValue(header, out collapsed))
        {
            _collapsed[header] = !collapsed;
        } else
        {
            // assume section is collapsed
            _collapsed[header] = false;
        }
    }

    private string GetClass(object? header)
    {
        bool collapsed;
        if (header == null)
        {
            return "";
        }
        if (!_collapsed.TryGetValue(header, out collapsed) || collapsed)
        {
            return "inactive";
        }
        else
        {
            // assume section is collapsed
            return "header-active";
        }
    }

}